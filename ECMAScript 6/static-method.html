<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Static Method JavaScript</title>
</head>
<body>
   <h1>Belajar Static Method Pada JavaScript</h1>

   <script>

      class Vehicle {
         constructor(licensePlate, manufacture) {
            this.licensePlate = licensePlate;
            this.manufacture = manufacture;
            this.engineActive = false;
         }

         startEngines() {
            console.log(`Mesin kendaraan ${this.licensePlate} dinyalakan!`);
         }

         info() {
            console.log(`Nomor Kendaraan: ${this.licensePlate}`);
            console.log(`Manufacture: ${this.manufacture}`);
            console.log(`Mesin: ${this.engineActive ? 'Active' : 'Inactive'}`);
         }

         parking() {
            console.log(`Kendaraan ${this.licensePlate} parkir!`);
         }
      }

      class VehicleFactory {
         // Static method merupakan method yang tidak dapat dipanggil oleh instance dari class, namun dapat dipanggil melalui class-nya sendiri.
         static repair(vehicles) {
            vehicles.forEach(vehicle => {
               console.log(`Kendaraan ${vehicle.licensePlate} sedang melakukan perawatan`)
            });
         }
      }

      class Car extends Vehicle {
         constructor(licensePlate, manufacture, wheels) {
            super(licensePlate, manufacture);
            this.wheels = wheels;
         }

         droveOff() {
            console.log(`Kendaraan ${this.licensePlate} melaju!`);
         }

         openDoor() {
            console.log(`Membuka pintu!`);
         }

         /* overriding method info dari parent class */
         infoCar() {
            super.info();
            console.log(`Jumlah roda: ${this.wheels}`);
         }
      }

      class SepedaMotor extends Car {
         constructor (licensePlate, manufacture, wheels, color) {
            super(licensePlate, manufacture, wheels);
            this.color = color;
         }

         infoMotor() {
            super.infoCar();
         }
      }

      const myCar = new Car('H121S', 'Honda', 4);
      const yourCar = new Car('G222S', 'Ferrari', 4);
      const mySepeda = new SepedaMotor('Y201S', 'Yamaha', 2, 'Red');
      const yourSepeda = new SepedaMotor('Y908S', 'Suzuki', 2, 'Black');

      /* Membuat instance untuk memanggil fungsi repair */
      // const vehicleFactory = new VehicleFactory();
      // vehicleFactory.repair([myCar, yourCar, mySepeda, yourSepeda]);

      // Memanggil fungsi repair tanpa instansiasi dari Class bersangkutan
      VehicleFactory.repair([myCar, yourCar, mySepeda, yourSepeda]);

   </script>
</body>
</html>